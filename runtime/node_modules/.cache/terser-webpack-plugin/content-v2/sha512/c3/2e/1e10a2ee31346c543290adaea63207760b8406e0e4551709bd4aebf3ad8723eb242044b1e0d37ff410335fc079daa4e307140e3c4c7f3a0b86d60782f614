{"map":"{\"version\":3,\"sources\":[\"device-details-runtime-widget-CustomWidget.570ea225b9de06d7edc9.js\"],\"names\":[\"window\",\"push\",\"hash\",\"publicPath\",\"device-details-runtime-widget\",\"js\",\"css\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~9b1fde68\",\"device-details-runtime-widget-vendors~206cd410\",\"device-details-runtime-widget-vendors~58cf047f\",\"device-details-runtime-widget-vendors~e4dfd1bd\",\"device-details-runtime-widget-vendors~5a50f6a0\",\"device-details-runtime-widget-CustomWidget\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"GpDeviceDetailsWidgetComponent\",\"GpDeviceDetailsWidgetModule\",\"GpDeviceDetailsWidgetService\",\"ɵ0\",\"GpDeviceDetailsWidgetConfigComponent\",\"tslib__WEBPACK_IMPORTED_MODULE_1__\",\"_angular_core__WEBPACK_IMPORTED_MODULE_2__\",\"_c8y_client__WEBPACK_IMPORTED_MODULE_3__\",\"e\",\"Error\",\"code\",\"_angular_common_http__WEBPACK_IMPORTED_MODULE_5__\",\"_angular_common__WEBPACK_IMPORTED_MODULE_6__\",\"_c8y_ngx_components__WEBPACK_IMPORTED_MODULE_7__\",\"_angular_material_card__WEBPACK_IMPORTED_MODULE_8__\",\"_angular_material_input__WEBPACK_IMPORTED_MODULE_9__\",\"[object Object]\",\"inventory\",\"identity\",\"this\",\"config\",\"Object\",\"detail\",\"device\",\"id\",\"response\",\"data\",\"hasOwnProperty\",\"deviceExternalId\",\"getExternalId\",\"alert\",\"res\",\"paging\",\"list\",\"externalId\",\"ɵprov\",\"factory\",\"token\",\"providedIn\",\"decorators\",\"type\",\"args\",\"ctorParameters\",\"http\",\"datePipe\",\"URL\",\"deviceUrl\",\"deviceExtId\",\"getDeviceData\",\"deviceDetailsUrl\",\"getDeviceDetails\",\"subscribe\",\"devData\",\"deviceDetails\",\"DeviceDetail\",\"mfdDate\",\"transform\",\"manufactureDate\",\"maintDate\",\"nextScheduledMaintenance\",\"get\",\"selector\",\"template\",\"styles\",\"propDecorators\",\"label\",\"description\",\"component\",\"configComponent\",\"ng1\",\"options\",\"noDeviceTarget\",\"noNewWidgets\",\"deviceTargetNotRequired\",\"groupsSelectable\",\"declarations\",\"imports\",\"exports\",\"entryComponents\",\"providers\",\"provide\",\"multi\",\"useValue\"],\"mappings\":\"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\"}","code":"(window.webpackRegister=window.webpackRegister||[]).push([{hash:\"6d54e753dd8e6a7ade6d\",publicPath:\"/\"},[\"device-details-runtime-widget\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~9b1fde68\",\"device-details-runtime-widget-vendors~206cd410\",\"device-details-runtime-widget-vendors~58cf047f\",\"device-details-runtime-widget-vendors~e4dfd1bd\",\"device-details-runtime-widget-vendors~5a50f6a0\"],{\"device-details-runtime-widget\":{js:[\"@angular/animations\",\"@angular/common\",\"@angular/common/http\",\"@angular/core\",\"@angular/forms\",\"@angular/platform-browser/animations\",\"@c8y/client\",\"@c8y/ngx-components\"],css:[]},\"device-details-runtime-widget-stylejs\":{js:[\"ZOEVI\",\"ay3IJ\",\"epqfR\"],css:[]},\"device-details-runtime-widget-vendors~9b1fde68\":{js:[\"3oqfk\",\"ih/RX\",\"oOZbS\"],css:[]},\"device-details-runtime-widget-vendors~206cd410\":{js:[\"PQ7Pg\"],css:[]},\"device-details-runtime-widget-vendors~58cf047f\":{js:[\"2d0yC\",\"5L6Pp\",\"BiqAb\",\"F8E/s\",\"K3BRP\",\"WvwHh\",\"f5EDl\"],css:[]},\"device-details-runtime-widget-vendors~e4dfd1bd\":{js:[\"1SP3J\",\"6nYDD\",\"EEfkF\",\"NET8E\",\"P9tP5\",\"SBXPP\",\"Ta6ao\",\"UgJ6S\",\"ZIo0y\",\"ZtJ39\",\"c9oUX\",\"dbZvm\",\"fTtzN\",\"g7dq2\",\"i/oB8\",\"ia62o\",\"j13rY\",\"jLS8x\",\"k41J4\",\"m7PES\",\"n/Z7k\",\"nXZ77\",\"vlkA2\",\"vxJpk\",\"xmFY6\",\"zkuYo\"],css:[]},\"device-details-runtime-widget-vendors~5a50f6a0\":{js:[\"0gx5I\",\"45Ve1\",\"8vziG\",\"B49rC\",\"C734p\",\"DydLQ\",\"GVpyE\",\"Jm7h2\",\"OSXbQ\",\"Orptb\",\"Qgj6I\",\"SKx1Z\",\"TC8XG\",\"WDSJU\",\"Z70TH\",\"di3Lx\",\"mBSwB\",\"s74Pb\",\"sKM7W\",\"sneGe\",\"t9UOB\",\"u1Z8U\",\"vZtCd\",\"yM92C\"],css:[]}}]),(window.webpackJsonp=window.webpackJsonp||[]).push([[\"device-details-runtime-widget-CustomWidget\"],{\"device-details-runtime-widget-CustomWidget\":function(e,t,i){\"use strict\";i.r(t),i.d(t,\"GpDeviceDetailsWidgetComponent\",(function(){return u})),i.d(t,\"GpDeviceDetailsWidgetModule\",(function(){return h})),i.d(t,\"GpDeviceDetailsWidgetService\",(function(){return m})),i.d(t,\"ɵ0\",(function(){return v})),i.d(t,\"ɵa\",(function(){return p}));i(\"ZOEVI\");var s=i(\"vlkA2\"),a=i(\"@angular/core\"),n=i(\"@c8y/client\");!function(){var e=new Error(\"Cannot find module '@c8y/client/lib/src/inventory/InventoryService'\");throw e.code=\"MODULE_NOT_FOUND\",e}(),function(){var e=new Error(\"Cannot find module '@c8y/client/lib/src/identity/IdentityService'\");throw e.code=\"MODULE_NOT_FOUND\",e}();var r=i(\"@angular/common/http\"),c=i(\"@angular/common\"),d=i(\"@c8y/ngx-components\"),l=i(\"3oqfk\"),o=i(\"oOZbS\");class m{constructor(e,t){this.inventory=e,this.identity=t}getDeviceData(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){let t=yield this.inventory.detail(e.device.id);return this.response=t.data,this.response,this.response.hasOwnProperty(\"c8y_IsDevice\")?(this.deviceExternalId=yield this.getExternalId(e.device.id),e.device.id,this.deviceExternalId):alert(\"Please select a device for this widget to fuction correctly\"),this.deviceExternalId}))}getExternalId(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const{data:t,res:i,paging:s}=yield this.identity.list(e);return t[0].externalId}))}}m.ɵprov=Object(a[\"ɵɵdefineInjectable\"])({factory:function(){return new m(Object(a[\"ɵɵinject\"])(!function(){var e=new Error(\"Cannot find module '@c8y/client/lib/src/inventory/InventoryService'\");throw e.code=\"MODULE_NOT_FOUND\",e}()),Object(a[\"ɵɵinject\"])(!function(){var e=new Error(\"Cannot find module '@c8y/client/lib/src/identity/IdentityService'\");throw e.code=\"MODULE_NOT_FOUND\",e}()))},token:m,providedIn:\"root\"}),m.decorators=[{type:a.Injectable,args:[{providedIn:\"root\"}]}],m.ctorParameters=()=>[{type:n.InventoryService},{type:n.IdentityService}];class u{constructor(e,t,i,s,a){this.http=e,this.datePipe=t,this.device=i,this.inventory=s,this.identity=a,this.URL=\"\",this.deviceUrl=\"\"}ngOnInit(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.config,this.deviceExtId=yield this.device.getDeviceData(this.config),this.URL=this.config.deviceDetailsUrl,this.deviceUrl=this.URL+this.deviceExtId,this.getDeviceDetails().subscribe(e=>{this.deviceDetails=e.DeviceDetail,this.deviceDetails,this.mfdDate=this.datePipe.transform(this.deviceDetails.manufactureDate,\"MMM d, y\"),this.maintDate=this.datePipe.transform(this.deviceDetails.nextScheduledMaintenance,\"MMM d, y\"),this.maintDate})}))}getDeviceDetails(){return this.http.get(this.deviceUrl)}}u.decorators=[{type:a.Component,args:[{selector:\"lib-gp-device-details-widget\",template:'<mat-card class=\"example-card\">\\r\\n<mat-card-content>\\r\\n    <div class=\"card-content\">\\r\\n      \\r\\n        <div class=\"card-content-item\">\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Customer Name:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Serial Number:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Model Name:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Manufacturer Name:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Manufactured Date:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Scheduled Maintenance:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Running Percent:</small></span>\\r\\n          <span class=\"text-truncate\"><small class=\"text-muted\">Failure Prediction:</small></span>\\r\\n        </div>\\r\\n\\r\\n        <div *ngIf=\"this.deviceDetails\">\\r\\n        <div class=\"card-content-item card-text-value\">\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.customerName}}\"><small class=\"text-muted\">{{this.deviceDetails.customerName}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.serialNumber}}\"><small class=\"text-muted\">{{this.deviceDetails.serialNumber}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.modelDescription}}\"><small class=\"text-muted\">{{this.deviceDetails.modelDescription}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.manufacturerName}}\"><small class=\"text-muted\">{{this.deviceDetails.manufacturerName}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.mfdDate}}\"><small class=\"text-muted\">{{this.mfdDate}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.maintDate}}\"><small class=\"text-muted\">{{this.maintDate}}</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.runningPercent}}\"><small class=\"text-muted\">{{this.deviceDetails.runningPercent}} %</small></span>\\r\\n            <span class=\"text-truncate\" title=\"{{this.deviceDetails.failurePrediction}}\"><small class=\"text-muted\">{{this.deviceDetails.failurePrediction}} %</small></span>\\r\\n\\r\\n            \\r\\n        </div>\\r\\n      </div>\\r\\n</div>\\r\\n    </mat-card-content>\\r\\n  </mat-card>\\r\\n  ',styles:[\".mat-card{padding:0 0 0 9px;box-shadow:none}.card-content{display:flex;font-size:14px}.card-content-item{padding:5px}.card-content-item span{padding:3px;display:block;max-width:150px;font-size:14px}.card-text-value span{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;display:block;width:100px;font-size:14px}\"]}]}],u.ctorParameters=()=>[{type:r.HttpClient},{type:c.DatePipe},{type:m},{type:n.InventoryService},{type:n.IdentityService}],u.propDecorators={config:[{type:a.Input}]};class p{constructor(){this.config={}}ngOnInit(){}}p.decorators=[{type:a.Component,args:[{selector:\"app-gp-device-details-widget-config\",template:'<div class=\"form-group\">\\r\\n  <c8y-form-group>\\r\\n    <br>\\r\\n    <label translate>Device Details URL</label>\\r\\n    <input type=\"text\" name=\"config.deviceDetailsUrl\" style=\"width:100%\" [(ngModel)]=\"config.deviceDetailsUrl\">\\r\\n    <br>\\r\\n  </c8y-form-group>\\r\\n</div>',styles:[\"\"]}]}],p.ctorParameters=()=>[],p.propDecorators={config:[{type:a.Input}]};const v={id:\"device.details.mat.dashboard\",label:\"Device Details\",description:\"Device details Dashboard - Display device details in the dashboard\",component:u,configComponent:p,data:{ng1:{options:{noDeviceTarget:!1,noNewWidgets:!1,deviceTargetNotRequired:!1,groupsSelectable:!0}}}};class h{}h.decorators=[{type:a.NgModule,args:[{declarations:[u,p],imports:[d.CoreModule,o.MatInputModule,l.MatCardModule,r.HttpClientModule],exports:[u,p],entryComponents:[u,p],providers:[r.HttpClient,c.DatePipe,m,{provide:d.HOOK_COMPONENTS,multi:!0,useValue:v}]}]}]}}]);","extractedComments":[]}