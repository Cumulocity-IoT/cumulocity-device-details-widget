{"map":"{\"version\":3,\"sources\":[\"device-details-runtime-widget-CustomWidget.7897a920947e59a1e361.js\"],\"names\":[\"window\",\"push\",\"hash\",\"publicPath\",\"device-details-runtime-widget\",\"js\",\"css\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~36d8e7dd\",\"device-details-runtime-widget-vendors~0a4180be\",\"device-details-runtime-widget-vendors~63d24fd5\",\"device-details-runtime-widget-vendors~75cc78e8\",\"device-details-runtime-widget-vendors~ab0e815d\",\"device-details-runtime-widget-vendors~1cec09ce\",\"device-details-runtime-widget-vendors~e4dfd1bd\",\"device-details-runtime-widget-CustomWidget\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"GpDeviceDetailsWidgetComponent\",\"GpDeviceDetailsWidgetModule\",\"GpDeviceDetailsWidgetService\",\"ɵ0\",\"GpDeviceDetailsWidgetConfigComponent\",\"tslib__WEBPACK_IMPORTED_MODULE_1__\",\"_angular_core__WEBPACK_IMPORTED_MODULE_2__\",\"_c8y_client__WEBPACK_IMPORTED_MODULE_3__\",\"_angular_common_http__WEBPACK_IMPORTED_MODULE_4__\",\"_angular_common__WEBPACK_IMPORTED_MODULE_5__\",\"_angular_material_table__WEBPACK_IMPORTED_MODULE_6__\",\"_angular_material_sort__WEBPACK_IMPORTED_MODULE_7__\",\"_angular_material_paginator__WEBPACK_IMPORTED_MODULE_8__\",\"_c8y_ngx_components__WEBPACK_IMPORTED_MODULE_9__\",\"_angular_material_button__WEBPACK_IMPORTED_MODULE_10__\",\"_angular_material_icon__WEBPACK_IMPORTED_MODULE_11__\",\"_angular_material_input__WEBPACK_IMPORTED_MODULE_12__\",\"[object Object]\",\"inventory\",\"http\",\"identity\",\"this\",\"restItemsUrl\",\"config\",\"Object\",\"detail\",\"device\",\"id\",\"response\",\"data\",\"hasOwnProperty\",\"deviceExternalId\",\"getExternalId\",\"alert\",\"res\",\"paging\",\"list\",\"externalId\",\"url\",\"restItems\",\"get\",\"toPromise\",\"ctorParameters\",\"type\",\"datePipe\",\"iotSrService\",\"isDeviceSelected\",\"URL\",\"deviceUrl\",\"columns\",\"dataSource\",\"deviceExtId\",\"getDeviceData\",\"displayedColumns\",\"tableColumnNames\",\"split\",\"deviceDetailsUrl\",\"getDeviceDetails\",\"subscribe\",\"devData\",\"deviceDetails\",\"DeviceDetail\",\"mfdDate\",\"transform\",\"manufactureDate\",\"maintDate\",\"nextScheduledMaintenance\",\"isDevice\",\"getExternalIdForDevice\",\"ApiUrl\",\"displayedColumnValues\",\"tableColumnValues\",\"forEach\",\"iterator\",\"index\",\"columnDef\",\"header\",\"cell\",\"element\",\"getRestItems\",\"sort\",\"paginator\",\"event\",\"filterValue\",\"target\",\"value\",\"filter\",\"trim\",\"toLowerCase\",\"prototype\",\"static\",\"selector\",\"template\",\"styles\",\"label\",\"description\",\"component\",\"configComponent\",\"ng1\",\"options\",\"noDeviceTarget\",\"noNewWidgets\",\"deviceTargetNotRequired\",\"groupsSelectable\",\"declarations\",\"imports\",\"exports\",\"entryComponents\",\"providers\",\"provide\",\"multi\",\"useValue\"],\"mappings\":\"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\"}","code":"(window.webpackRegister=window.webpackRegister||[]).push([{hash:\"0065d67f225f289777b6\",publicPath:\"/\"},[\"device-details-runtime-widget\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~36d8e7dd\",\"device-details-runtime-widget-vendors~0a4180be\",\"device-details-runtime-widget-vendors~63d24fd5\",\"device-details-runtime-widget-vendors~75cc78e8\",\"device-details-runtime-widget-vendors~ab0e815d\",\"device-details-runtime-widget-vendors~1cec09ce\",\"device-details-runtime-widget-vendors~e4dfd1bd\"],{\"device-details-runtime-widget\":{js:[\"@angular/common\",\"@angular/common/http\",\"@angular/core\",\"@angular/forms\",\"@angular/platform-browser\",\"@angular/platform-browser/animations\",\"@c8y/client\",\"@c8y/ngx-components\"],css:[]},\"device-details-runtime-widget-stylejs\":{js:[\"ZOEVI\",\"ZOEVIg\",\"pUsMB\"],css:[]},\"device-details-runtime-widget-vendors~36d8e7dd\":{js:[\"vFcSU\"],css:[]},\"device-details-runtime-widget-vendors~0a4180be\":{js:[\"5hs1B\",\"DqZRv\",\"Jchv7\",\"KglzI\",\"LDd+w\",\"RxeC6\",\"VbfmF\",\"elkIS\",\"erVdc\",\"jZFhP\",\"qJ3kE\",\"vw3NZ\",\"w/kQg\"],css:[]},\"device-details-runtime-widget-vendors~63d24fd5\":{js:[\"IGWIr\"],css:[]},\"device-details-runtime-widget-vendors~75cc78e8\":{js:[\"3j8eL\",\"6HJ7s\",\"BbhUp\"],css:[]},\"device-details-runtime-widget-vendors~ab0e815d\":{js:[\"iLQK1\"],css:[]},\"device-details-runtime-widget-vendors~1cec09ce\":{js:[\"+Yobw\",\"/WgwY\",\"/guEc\",\"0Ma8z\",\"0gx5I\",\"30/8F\",\"6XLWb\",\"A597X\",\"Bp0rT\",\"DVOZ4\",\"SPHOx\",\"TBUrV\",\"TuFiw\",\"ZRfGS\",\"bLIv8\",\"dJW9h\",\"g8Umn\",\"lYLde\",\"tcxZK\",\"u1Z8U\",\"x5g/b\"],css:[]},\"device-details-runtime-widget-vendors~e4dfd1bd\":{js:[\"/XwMU\",\"ARx7f\",\"Ay2r+\",\"C0DGc\",\"EEfkF\",\"H0SfR\",\"H1sqM\",\"IK17f\",\"JS6pQ\",\"Mm6k5\",\"NET8E\",\"O9tlC\",\"OSXbQ\",\"Orptb\",\"P9tP5\",\"RxP5j\",\"SBXPP\",\"TWpIq\",\"Ta6ao\",\"WDRHp\",\"ZIo0y\",\"ZtJ39\",\"at30l\",\"bot51\",\"c9oUX\",\"dbZvm\",\"e7k6T\",\"fTtzN\",\"gnnEV\",\"ia62o\",\"mBSwB\",\"sKM7W\",\"sW2x4\",\"sXzXx\",\"t/ssJ\",\"tTteL\",\"uivlD\",\"vZw+h\",\"vxJpk\",\"wDsNu\",\"xmFY6\",\"zWfPA\",\"zkuYo\"],css:[]}}]),(window.webpackJsonp=window.webpackJsonp||[]).push([[\"device-details-runtime-widget-CustomWidget\"],{\"device-details-runtime-widget-CustomWidget\":function(e,t,i){\"use strict\";i.r(t),i.d(t,\"GpDeviceDetailsWidgetComponent\",(function(){return g})),i.d(t,\"GpDeviceDetailsWidgetModule\",(function(){return w})),i.d(t,\"GpDeviceDetailsWidgetService\",(function(){return v})),i.d(t,\"ɵ0\",(function(){return b})),i.d(t,\"ɵa\",(function(){return f}));i(\"ZOEVI\");var s=i(\"zWfPA\"),r=i(\"@angular/core\"),n=i(\"@c8y/client\"),a=i(\"@angular/common/http\"),d=i(\"@angular/common\"),o=i(\"vFcSU\"),l=i(\"IGWIr\"),c=i(\"3j8eL\"),p=i(\"@c8y/ngx-components\"),m=i(\"6HJ7s\"),h=i(\"iLQK1\"),u=i(\"BbhUp\");let v=class{constructor(e,t,i){this.inventory=e,this.http=t,this.identity=i,this.restItemsUrl=\"http://democenter.gateway.webmethodscloud.com/gateway/DemoCenterAPIs/1.0/ConnectedDemosAPI/restSvc/getServiceRequestsForADevice/00001239\"}getDeviceData(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){let t=yield this.inventory.detail(e.device.id);return this.response=t.data,this.response,this.response.hasOwnProperty(\"c8y_IsDevice\")?(this.deviceExternalId=yield this.getExternalId(e.device.id),e.device.id,this.deviceExternalId):alert(\"Please select a device for this widget to fuction correctly\"),this.deviceExternalId}))}getExternalId(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){const{data:t,res:i,paging:s}=yield this.identity.list(e);return t[0].externalId}))}getRestItems(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){return this.restItems=yield this.http.get(e).toPromise(),this.restItems}))}getExternalIdForDevice(e){return Object(s.__awaiter)(this,void 0,void 0,(function*(){let t=yield this.inventory.detail(e.device.id);return this.response=t.data,this.response.hasOwnProperty(\"c8y_IsDevice\")?this.deviceExternalId=yield this.getExternalId(e.device.id):alert(\"Please select a device for this widget to fuction correctly\"),this.deviceExternalId}))}};v.ctorParameters=()=>[{type:n.InventoryService},{type:a.HttpClient},{type:n.IdentityService}],v=Object(s.__decorate)([Object(r.Injectable)()],v);let g=class{constructor(e,t,i,s,r,n){this.http=e,this.datePipe=t,this.device=i,this.inventory=s,this.identity=r,this.iotSrService=n,this.isDeviceSelected=!1,this.URL=\"\",this.deviceUrl=\"\",this.columns=[],this.dataSource=new o.MatTableDataSource}ngOnInit(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.config,this.deviceExtId=yield this.device.getDeviceData(this.config),this.displayedColumns=this.config.tableColumnNames.split(\",\"),this.URL=this.config.deviceDetailsUrl,this.deviceUrl=this.URL+this.deviceExtId,this.getDeviceDetails().subscribe(e=>{this.deviceDetails=e.DeviceDetail,this.deviceDetails,this.mfdDate=this.datePipe.transform(this.deviceDetails.manufactureDate,\"MMM d, y\"),this.maintDate=this.datePipe.transform(this.deviceDetails.nextScheduledMaintenance,\"MMM d, y\"),this.maintDate})}))}getDeviceDetails(){return this.http.get(this.deviceUrl)}refresh(){return Object(s.__awaiter)(this,void 0,void 0,(function*(){this.config.isDevice&&(this.isDeviceSelected=this.config.isDevice),this.isDeviceSelected?(this.deviceExtId=yield this.iotSrService.getExternalIdForDevice(this.config),this.ApiUrl=this.config.url+this.deviceExtId,this.isDeviceSelected=!1):this.ApiUrl=this.config.url,this.displayedColumns=[],this.displayedColumnValues=[],this.columns=[],this.displayedColumns=this.config.tableColumnNames.split(\",\"),this.displayedColumnValues=this.config.tableColumnValues.split(\",\"),this.displayedColumns.forEach((e,t)=>{this.columns.push({columnDef:e,header:e,cell:e=>`${e[this.displayedColumnValues[t]]}`})});yield this.iotSrService.getRestItems(this.ApiUrl);this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}))}applyFilter(e){const t=e.target.value;this.dataSource.filter=t.trim().toLowerCase()}};g.ctorParameters=()=>[{type:a.HttpClient},{type:d.DatePipe},{type:v},{type:n.InventoryService},{type:n.IdentityService},{type:v}],Object(s.__decorate)([Object(r.Input)()],g.prototype,\"config\",void 0),Object(s.__decorate)([Object(r.ViewChild)(l.MatSort,{static:!0})],g.prototype,\"sort\",void 0),Object(s.__decorate)([Object(r.ViewChild)(c.MatPaginator,{static:!0})],g.prototype,\"paginator\",void 0),g=Object(s.__decorate)([Object(r.Component)({selector:\"lib-gp-device-details-widget\",template:'<div class=\"header-container\">\\r\\n  <div class=\"header-item\">\\r\\n    <div class=\"filter-panel\">\\r\\n      <span class=\"mat-form-search\"><i class=\"fa fa-search\"></i></span>\\r\\n      <mat-form-field class=\"mat-form\">\\r\\n        <input matInput (keyup)=\"applyFilter($event)\"\\r\\n          placeholder=\"Enter Device Name, Id, External Id, Alerts Type, etc.\" />\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\"header-item\">\\r\\n    <div class=\"refresh-panel\">\\r\\n\\r\\n      <button mat-icon-button type=\"button\" class=\"button refresh-button\" (click)=\"refresh()\">\\r\\n        <span class=\"fa fa-refresh\"></span>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n  <table mat-table [dataSource]=\"dataSource\" multiTemplateDataRows class=\"mat-elevation-z8\"\\r\\n    *ngIf=\"this.displayedColumns\">\\r\\n    <ng-container *ngFor=\"let column of columns\" [matColumnDef]=\"column.columnDef\">\\r\\n      <th mat-header-cell *matHeaderCellDef>\\r\\n        {{column.header}}\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\"let row \">{{column.cell(row)}}</td>\\r\\n    </ng-container>\\r\\n\\r\\n</table>\\r\\n    <mat-paginator [pageSizeOptions]=\"[5, 10]\" showFirstLastButtons></mat-paginator>\\r\\n</div>',styles:[\"table{width:100%}tr.example-detail-row{height:0!important}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}.mat-form-field{font-size:14px;width:100%}.header-item{flex-grow:1}.filter-panel{padding-left:20px;font-style:italic}.mat-form-search{position:absolute;top:25px;color:#8a72ff}.mat-form .mat-form-field-infix{margin-left:20px}.refresh-panel{float:right}.mat-form{width:100%}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{overflow:hidden;text-overflow:ellipsis;min-width:100px;padding-right:10px;white-space:normal}.refresh-button{color:#1776bf}.slide-toggle-problem{margin-left:10px}.header-container{display:flex;width:100%;padding:10px 10px 5px}.div-row{display:flex;margin-top:10px;margin-bottom:10px;width:250px;float:right;justify-content:space-around}.mat-elevation-z8{box-shadow:none}\"]})],g);let f=class{constructor(){this.config={}}ngOnInit(){}onSave(){}};Object(s.__decorate)([Object(r.Input)()],f.prototype,\"config\",void 0),f=Object(s.__decorate)([Object(r.Component)({selector:\"lib-gp-device-details-widget-config\",template:'<div class=\"form-group\">\\r\\n  <c8y-form-group>\\r\\n    <br>\\r\\n    <label translate>Device Details URL</label>\\r\\n    <input type=\"text\" name=\"config.deviceDetailsUrl\" style=\"width:100%\" [(ngModel)]=\"config.deviceDetailsUrl\">\\r\\n    <br>\\r\\n\\r\\n    <div class=\"form-group\">\\r\\n      <label translate>Enter the Row Headings (comma separated e.g: ID,)</label>\\r\\n      <input type=\"text\" class=\"form-control\" name=\"config.tableColumnNames\" style=\"width:100%\" [(ngModel)]=\"config.tableColumnNames\">\\r\\n    </div>\\r\\n  \\r\\n  </c8y-form-group>\\r\\n  \\r\\n  <button (click)=\"onSave()\">Save</button>\\r\\n  \\r\\n</div>',styles:[\"\"]})],f);const b={id:\"device.details.mat.dashboard\",label:\"Device Details\",description:\"Device details Dashboard - Display device details in the dashboard\",component:g,configComponent:f,data:{ng1:{options:{noDeviceTarget:!1,noNewWidgets:!1,deviceTargetNotRequired:!1,groupsSelectable:!0}}}};let w=class{};w=Object(s.__decorate)([Object(r.NgModule)({declarations:[g,f],imports:[p.CoreModule,o.MatTableModule,l.MatSortModule,c.MatPaginatorModule,p.CoreModule,m.MatButtonModule,h.MatIconModule,u.MatInputModule,a.HttpClientModule],exports:[g,f],entryComponents:[g,f],providers:[a.HttpClient,d.DatePipe,v,{provide:p.HOOK_COMPONENTS,multi:!0,useValue:b}]})],w)}}]);","extractedComments":[]}