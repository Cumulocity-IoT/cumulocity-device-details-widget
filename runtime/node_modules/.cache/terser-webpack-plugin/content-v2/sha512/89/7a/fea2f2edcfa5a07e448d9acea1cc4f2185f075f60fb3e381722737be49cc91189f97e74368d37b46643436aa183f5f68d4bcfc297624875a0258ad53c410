{"map":"{\"version\":3,\"sources\":[\"device-details-runtime-widget-CustomWidget.7ed77f17eefce7720525.js\"],\"names\":[\"window\",\"push\",\"hash\",\"publicPath\",\"device-details-runtime-widget\",\"js\",\"css\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~36d8e7dd\",\"device-details-runtime-widget-vendors~0a4180be\",\"device-details-runtime-widget-vendors~63d24fd5\",\"device-details-runtime-widget-vendors~75cc78e8\",\"device-details-runtime-widget-vendors~0bd8adcf\",\"device-details-runtime-widget-vendors~ab0e815d\",\"device-details-runtime-widget-vendors~1cec09ce\",\"device-details-runtime-widget-vendors~dabaf347\",\"device-details-runtime-widget-vendors~e4dfd1bd\",\"device-details-runtime-widget-CustomWidget\",\"module\",\"__webpack_exports__\",\"__webpack_require__\",\"r\",\"d\",\"GpDeviceDetailsWidgetComponent\",\"GpDeviceDetailsWidgetModule\",\"GpDeviceDetailsWidgetService\",\"ɵ0\",\"GpDeviceDetailsWidgetConfigComponent\",\"tslib__WEBPACK_IMPORTED_MODULE_1__\",\"_angular_core__WEBPACK_IMPORTED_MODULE_2__\",\"_c8y_client__WEBPACK_IMPORTED_MODULE_3__\",\"_angular_common_http__WEBPACK_IMPORTED_MODULE_4__\",\"_angular_common__WEBPACK_IMPORTED_MODULE_5__\",\"_angular_material_table__WEBPACK_IMPORTED_MODULE_6__\",\"_angular_material_sort__WEBPACK_IMPORTED_MODULE_7__\",\"_c8y_ngx_components__WEBPACK_IMPORTED_MODULE_8__\",\"_angular_material_button__WEBPACK_IMPORTED_MODULE_9__\",\"_angular_material_checkbox__WEBPACK_IMPORTED_MODULE_10__\",\"_angular_material_icon__WEBPACK_IMPORTED_MODULE_11__\",\"_angular_material_input__WEBPACK_IMPORTED_MODULE_12__\",\"_angular_material_paginator__WEBPACK_IMPORTED_MODULE_13__\",\"[object Object]\",\"inventory\",\"http\",\"identity\",\"this\",\"restItemsUrl\",\"config\",\"Object\",\"detail\",\"device\",\"id\",\"response\",\"data\",\"hasOwnProperty\",\"deviceExternalId\",\"getExternalId\",\"alert\",\"res\",\"paging\",\"list\",\"externalId\",\"url\",\"restItems\",\"get\",\"toPromise\",\"ctorParameters\",\"type\",\"datePipe\",\"iotSrService\",\"isDeviceSelected\",\"URL\",\"deviceUrl\",\"columns\",\"dataSource\",\"deviceExtId\",\"getDeviceData\",\"displayedColumns\",\"tableColumnNames\",\"split\",\"deviceDetailsUrl\",\"getDeviceDetails\",\"subscribe\",\"devData\",\"deviceDetails\",\"DeviceDetail\",\"mfdDate\",\"transform\",\"manufactureDate\",\"maintDate\",\"nextScheduledMaintenance\",\"isDevice\",\"getExternalIdForDevice\",\"ApiUrl\",\"displayedColumnValues\",\"tableColumnValues\",\"forEach\",\"iterator\",\"index\",\"columnDef\",\"header\",\"cell\",\"element\",\"getRestItems\",\"sort\",\"paginator\",\"event\",\"filterValue\",\"target\",\"value\",\"filter\",\"trim\",\"toLowerCase\",\"prototype\",\"static\",\"selector\",\"template\",\"styles\",\"label\",\"description\",\"component\",\"configComponent\",\"ng1\",\"options\",\"noDeviceTarget\",\"noNewWidgets\",\"deviceTargetNotRequired\",\"groupsSelectable\",\"declarations\",\"imports\",\"exports\",\"entryComponents\",\"providers\",\"provide\",\"multi\",\"useValue\"],\"mappings\":\"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\"}","code":"(window.webpackRegister=window.webpackRegister||[]).push([{hash:\"c21f3f0c50cd89985637\",publicPath:\"/\"},[\"device-details-runtime-widget\",\"device-details-runtime-widget-stylejs\",\"device-details-runtime-widget-vendors~36d8e7dd\",\"device-details-runtime-widget-vendors~0a4180be\",\"device-details-runtime-widget-vendors~63d24fd5\",\"device-details-runtime-widget-vendors~75cc78e8\",\"device-details-runtime-widget-vendors~0bd8adcf\",\"device-details-runtime-widget-vendors~ab0e815d\",\"device-details-runtime-widget-vendors~1cec09ce\",\"device-details-runtime-widget-vendors~dabaf347\",\"device-details-runtime-widget-vendors~e4dfd1bd\"],{\"device-details-runtime-widget\":{js:[\"@angular/common\",\"@angular/common/http\",\"@angular/core\",\"@angular/forms\",\"@angular/platform-browser\",\"@angular/platform-browser/animations\",\"@c8y/client\",\"@c8y/ngx-components\"],css:[]},\"device-details-runtime-widget-stylejs\":{js:[\"ZOEVI\",\"ZOEVIg\",\"pUsMB\"],css:[]},\"device-details-runtime-widget-vendors~36d8e7dd\":{js:[\"vFcSU\"],css:[]},\"device-details-runtime-widget-vendors~0a4180be\":{js:[\"5hs1B\",\"DqZRv\",\"Jchv7\",\"KglzI\",\"LDd+w\",\"RxeC6\",\"VbfmF\",\"elkIS\",\"erVdc\",\"jZFhP\",\"qJ3kE\",\"vw3NZ\",\"w/kQg\"],css:[]},\"device-details-runtime-widget-vendors~63d24fd5\":{js:[\"IGWIr\"],css:[]},\"device-details-runtime-widget-vendors~75cc78e8\":{js:[\"6HJ7s\",\"tjfDn\"],css:[]},\"device-details-runtime-widget-vendors~0bd8adcf\":{js:[\"jCpxn\"],css:[]},\"device-details-runtime-widget-vendors~ab0e815d\":{js:[\"iLQK1\"],css:[]},\"device-details-runtime-widget-vendors~1cec09ce\":{js:[\"+Yobw\",\"/WgwY\",\"/guEc\",\"0Ma8z\",\"0gx5I\",\"30/8F\",\"6XLWb\",\"A597X\",\"Bp0rT\",\"DVOZ4\",\"SPHOx\",\"TBUrV\",\"TuFiw\",\"ZRfGS\",\"bLIv8\",\"dJW9h\",\"g8Umn\",\"lYLde\",\"tcxZK\",\"u1Z8U\",\"x5g/b\"],css:[]},\"device-details-runtime-widget-vendors~dabaf347\":{js:[\"BbhUp\",\"ggvOu\"],css:[]},\"device-details-runtime-widget-vendors~e4dfd1bd\":{js:[\"/XwMU\",\"ARx7f\",\"Ay2r+\",\"C0DGc\",\"EEfkF\",\"H0SfR\",\"H1sqM\",\"IK17f\",\"JS6pQ\",\"Mm6k5\",\"NET8E\",\"O9tlC\",\"OSXbQ\",\"Orptb\",\"P9tP5\",\"RxP5j\",\"SBXPP\",\"TWpIq\",\"Ta6ao\",\"WDRHp\",\"ZIo0y\",\"ZtJ39\",\"at30l\",\"bot51\",\"c9oUX\",\"dbZvm\",\"e7k6T\",\"fTtzN\",\"gnnEV\",\"ia62o\",\"mBSwB\",\"sKM7W\",\"sW2x4\",\"sXzXx\",\"t/ssJ\",\"tTteL\",\"uivlD\",\"vZw+h\",\"vxJpk\",\"wDsNu\",\"xmFY6\",\"zWfPA\",\"zkuYo\"],css:[]}}]),(window.webpackJsonp=window.webpackJsonp||[]).push([[\"device-details-runtime-widget-CustomWidget\"],{\"device-details-runtime-widget-CustomWidget\":function(e,t,i){\"use strict\";i.r(t),i.d(t,\"GpDeviceDetailsWidgetComponent\",(function(){return f})),i.d(t,\"GpDeviceDetailsWidgetModule\",(function(){return y})),i.d(t,\"GpDeviceDetailsWidgetService\",(function(){return g})),i.d(t,\"ɵ0\",(function(){return w})),i.d(t,\"ɵa\",(function(){return b}));i(\"ZOEVI\");var n=i(\"zWfPA\"),r=i(\"@angular/core\"),s=i(\"@c8y/client\"),a=i(\"@angular/common/http\"),d=i(\"@angular/common\"),o=i(\"vFcSU\"),l=i(\"IGWIr\"),c=i(\"@c8y/ngx-components\"),p=i(\"6HJ7s\"),m=i(\"tjfDn\"),u=i(\"iLQK1\"),h=i(\"BbhUp\"),v=i(\"ggvOu\");let g=class{constructor(e,t,i){this.inventory=e,this.http=t,this.identity=i,this.restItemsUrl=\"http://democenter.gateway.webmethodscloud.com/gateway/DemoCenterAPIs/1.0/ConnectedDemosAPI/restSvc/getServiceRequestsForADevice/00001239\"}getDeviceData(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){let t=yield this.inventory.detail(e.device.id);return this.response=t.data,this.response,this.response.hasOwnProperty(\"c8y_IsDevice\")?(this.deviceExternalId=yield this.getExternalId(e.device.id),e.device.id,this.deviceExternalId):alert(\"Please select a device for this widget to fuction correctly\"),this.deviceExternalId}))}getExternalId(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){const{data:t,res:i,paging:n}=yield this.identity.list(e);return t[0].externalId}))}getRestItems(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){return this.restItems=yield this.http.get(e).toPromise(),this.restItems}))}getExternalIdForDevice(e){return Object(n.__awaiter)(this,void 0,void 0,(function*(){let t=yield this.inventory.detail(e.device.id);return this.response=t.data,this.response.hasOwnProperty(\"c8y_IsDevice\")?this.deviceExternalId=yield this.getExternalId(e.device.id):alert(\"Please select a device for this widget to fuction correctly\"),this.deviceExternalId}))}};g.ctorParameters=()=>[{type:s.InventoryService},{type:a.HttpClient},{type:s.IdentityService}],g=Object(n.__decorate)([Object(r.Injectable)()],g);let f=class{constructor(e,t,i,n,r,s){this.http=e,this.datePipe=t,this.device=i,this.inventory=n,this.identity=r,this.iotSrService=s,this.isDeviceSelected=!1,this.URL=\"\",this.deviceUrl=\"\",this.columns=[],this.dataSource=new o.MatTableDataSource}ngOnInit(){return Object(n.__awaiter)(this,void 0,void 0,(function*(){this.config,this.deviceExtId=yield this.device.getDeviceData(this.config),this.displayedColumns=this.config.tableColumnNames.split(\",\"),this.URL=this.config.deviceDetailsUrl,this.deviceUrl=this.URL+this.deviceExtId,this.getDeviceDetails().subscribe(e=>{this.deviceDetails=e.DeviceDetail,this.deviceDetails,this.mfdDate=this.datePipe.transform(this.deviceDetails.manufactureDate,\"MMM d, y\"),this.maintDate=this.datePipe.transform(this.deviceDetails.nextScheduledMaintenance,\"MMM d, y\"),this.maintDate})}))}getDeviceDetails(){return this.http.get(this.deviceUrl)}refresh(){return Object(n.__awaiter)(this,void 0,void 0,(function*(){this.config.isDevice&&(this.isDeviceSelected=this.config.isDevice),this.isDeviceSelected?(this.deviceExtId=yield this.iotSrService.getExternalIdForDevice(this.config),this.ApiUrl=this.config.url+this.deviceExtId,this.isDeviceSelected=!1):this.ApiUrl=this.config.url,this.displayedColumns=[],this.displayedColumnValues=[],this.columns=[],this.displayedColumns=this.config.tableColumnNames.split(\",\"),this.displayedColumnValues=this.config.tableColumnValues.split(\",\"),this.displayedColumns.forEach((e,t)=>{this.columns.push({columnDef:e,header:e,cell:e=>`${e[this.displayedColumnValues[t]]}`})});yield this.iotSrService.getRestItems(this.ApiUrl);this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}))}applyFilter(e){const t=e.target.value;this.dataSource.filter=t.trim().toLowerCase()}};f.ctorParameters=()=>[{type:a.HttpClient},{type:d.DatePipe},{type:g},{type:s.InventoryService},{type:s.IdentityService},{type:g}],Object(n.__decorate)([Object(r.Input)()],f.prototype,\"config\",void 0),Object(n.__decorate)([Object(r.ViewChild)(l.MatSort,{static:!0})],f.prototype,\"sort\",void 0),Object(n.__decorate)([Object(r.ViewChild)(\"Paginator\",{static:!0})],f.prototype,\"paginator\",void 0),f=Object(n.__decorate)([Object(r.Component)({selector:\"lib-gp-device-details-widget\",template:'<div class=\"header-container\">\\r\\n  <div class=\"header-item\">\\r\\n    <div class=\"filter-panel\">\\r\\n      <span class=\"mat-form-search\"><i class=\"fa fa-search\"></i></span>\\r\\n      <mat-form-field class=\"mat-form\">\\r\\n        <input\\r\\n          matInput\\r\\n          (keyup)=\"applyFilter($event)\"\\r\\n          placeholder=\"Enter Device Name, Id, External Id, Alerts Type, etc.\"\\r\\n        />\\r\\n      </mat-form-field>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\"header-item\">\\r\\n    <div class=\"refresh-panel\">\\r\\n\\r\\n      <button\\r\\n        mat-icon-button\\r\\n        type=\"button\"\\r\\n        class=\"button refresh-button\"\\r\\n        (click)=\"refresh()\"\\r\\n      >\\r\\n        <span class=\"fa fa-refresh\"></span>\\r\\n      </button>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<div>\\r\\n  <table\\r\\n    mat-table\\r\\n    [dataSource]=\"dataSource\"\\r\\n    multiTemplateDataRows\\r\\n    class=\"mat-elevation-z8\"\\r\\n  \\r\\n    *ngIf=\"this.displayedColumns\"\\r\\n  >\\r\\n    <ng-container\\r\\n      *ngFor=\"let column of columns\"\\r\\n      [matColumnDef]=\"column.columnDef\"\\r\\n    >\\r\\n      <th mat-header-cell *matHeaderCellDef>\\r\\n        {{column.header}}\\r\\n      </th>\\r\\n      <td mat-cell *matCellDef=\"let row \">{{column.cell(row)}}</td>\\r\\n    </ng-container>\\r\\n\\r\\n    \\x3c!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns --\\x3e\\r\\n    \\r\\n\\r\\n   \\r\\n  </table>\\r\\n  <mat-paginator [pageSizeOptions]=\"[5, 10]\" showFirstLastButtons></mat-paginator>\\r\\n</div>\\r\\n\\r\\n  ',styles:[\"table{width:100%}tr.example-detail-row{height:0!important}tr.example-element-row:not(.example-expanded-row):hover{background:#f5f5f5}tr.example-element-row:not(.example-expanded-row):active{background:#efefef}.example-element-row td{border-bottom-width:0}.example-element-detail{overflow:hidden;display:flex}.example-element-description{padding:16px}.example-element-description-attribution{opacity:.5}.mat-form-field{font-size:14px;width:100%}.header-item{flex-grow:1}.filter-panel{padding-left:20px;font-style:italic}.mat-form-search{position:absolute;top:25px;color:#8a72ff}.mat-form .mat-form-field-infix{margin-left:20px}.refresh-panel{float:right}.mat-form{width:100%}td.mat-cell,td.mat-footer-cell,th.mat-header-cell{overflow:hidden;text-overflow:ellipsis;min-width:100px;padding-right:10px;white-space:normal}.refresh-button{color:#1776bf}.slide-toggle-problem{margin-left:10px}.header-container{display:flex;width:100%;padding:10px 10px 5px}.div-row{display:flex;margin-top:10px;margin-bottom:10px;width:250px;float:right;justify-content:space-around}.mat-elevation-z8{box-shadow:none}\"]})],f);let b=class{constructor(){this.config={}}ngOnInit(){}onSave(){}};Object(n.__decorate)([Object(r.Input)()],b.prototype,\"config\",void 0),b=Object(n.__decorate)([Object(r.Component)({selector:\"lib-gp-device-details-widget-config\",template:'<div class=\"form-group\">\\r\\n  <c8y-form-group>\\r\\n    <br>\\r\\n    <label translate>Device Details URL</label>\\r\\n    <input type=\"text\" name=\"config.deviceDetailsUrl\" style=\"width:100%\" [(ngModel)]=\"config.deviceDetailsUrl\">\\r\\n    <br>\\r\\n\\r\\n    <div class=\"form-group\">\\r\\n      <label translate>Enter the Row Headings (comma separated e.g: ID,)</label>\\r\\n      <input type=\"text\" class=\"form-control\" name=\"config.tableColumnNames\" style=\"width:100%\" [(ngModel)]=\"config.tableColumnNames\">\\r\\n    </div>\\r\\n  \\r\\n  </c8y-form-group>\\r\\n  \\r\\n  <button (click)=\"onSave()\">Save</button>\\r\\n  \\r\\n</div>',styles:[\"\"]})],b);const w={id:\"device.details.mat.dashboard\",label:\"Device Details\",description:\"Device details Dashboard - Display device details in the dashboard\",component:f,configComponent:b,data:{ng1:{options:{noDeviceTarget:!1,noNewWidgets:!1,deviceTargetNotRequired:!1,groupsSelectable:!0}}}};let y=class{};y=Object(n.__decorate)([Object(r.NgModule)({declarations:[f,b],imports:[c.CoreModule,o.MatTableModule,l.MatSortModule,v.MatPaginatorModule,m.MatCheckboxModule,c.CoreModule,p.MatButtonModule,u.MatIconModule,h.MatInputModule,a.HttpClientModule],exports:[f,b],entryComponents:[f,b],providers:[a.HttpClient,d.DatePipe,g,{provide:c.HOOK_COMPONENTS,multi:!0,useValue:w}]})],y)}}]);","extractedComments":[]}